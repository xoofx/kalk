<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="lunet 0.3.2.0">
    <title>Language Syntax - kalk</title>
    <link rel="stylesheet" href="/css/site.css">
    <script src="/js/site.js" type="text/javascript" ></script>
    <script src="/js/site-defer.js" type="text/javascript" defer></script>
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@xoofx">
    <meta name="twitter:title" content="Language Syntax - kalk">
    <meta name="twitter:description" content="kalk - calculator app">
    <meta name="twitter:image" content="https://kalk.dev/img/twitter-banner.jpg">
    <meta name="twitter:image:alt" content="Language Syntax - kalk">    

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Z558CWX6J6"></script>
    <script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'G-Z558CWX6J6');</script>    
  </head>
  <body>    
    <div id="kalk" class="container">
      <nav class="navbar navbar-expand-md navbar-light sticky-top">
        <a class="kalk-logo navbar-brand" href="/"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div id="navbarSupportedContent" class="collapse navbar-collapse justify-content-between">
<ol id='nav-id-home-0' class='navbar-nav nav-level0  '>
  <li class='nav-item '>
    <span class='nav-item-row'><a href='/' class='nav-link  '>Home</a></span>  </li>
  <li class='nav-item  active'>
    <span class='nav-item-row'><a href='/doc/' class='nav-link  '>Documentation</a></span>  </li>
</ol>
          <!-- d-inline w-100 -->
          <!-- <ol class="navbar-nav" style="width: 40%;padding-right: 0.5rem;"> -->
          <ol class="navbar-nav flex-grow-1" style="padding-right: 0.5rem;">
            <li class="nav-item w-100">
                <div class="kalk-search">
                  <label class="search-icon"><i class="fa fa-search"></i></label>
                  <select id="search-box"></select>
                </div>
            </li>
          </ol>
<ol id='nav-id-home2-0' class='navbar-nav nav-level0  flex-shrink-0'>
  <li class='nav-item '>
    <span class='nav-item-row'><a href='/download/' class='nav-link  btn btn-success'><i class="fa fa-download"></i> Download</a></span>  </li>
  <li class='nav-item '>
    <span class='nav-item-row'><a href='https://github.com/sponsors/xoofx' class='nav-link  btn btn-outline-secondary'><i class="fa fa-heart-o"></i> Sponsor</a></span>  </li>
  <li class='nav-item '>
    <span class='nav-item-row'><a href='https://github.com/xoofx/kalk/' class='nav-link  btn btn-info'><i class="fa fa-github"></i> GitHub</a></span>  </li>
</ol>
        </div>
      </nav>
      <div class="kalk-doc">
        <section>
            
<div class="container">
  <div class="row">
      <div class="col-sm-3 align-self-start sticky-top menu-sidebar">
        <ol id='menu-id-doc-0' class='menu menu-level0 collapse  show '>
  <li class='menu-item '>
    <span class='menu-item-row'><a href='/doc/' class='menu-link  '>Introduction</a></span>  </li>
  <li class='menu-item '>
    <span class='menu-item-row'><a href='/doc/user/' class='menu-link  '>User Guide</a><a href='#menu-id-doc-2' role='button'  data-toggle='collapse' aria-expanded='true' aria-controls='menu-id-doc-2' class='menu-link-show'></a></span>  <ol id='menu-id-doc-2' class='menu menu-level1 collapse  show '>
    <li class='menu-item  active'>
      <span class='menu-item-row'><a href='/doc/user/syntax/' class='menu-link  '>Language Syntax</a></span><nav class="js-toc toc"></nav>    </li>
  </ol>
  </li>
  <li class='menu-item '>
    <span class='menu-item-row'><a href='/doc/api/' class='menu-link  '>API Reference</a><a href='#menu-id-doc-4' role='button'  data-toggle='collapse' aria-expanded='false' aria-controls='menu-id-doc-4' class='menu-link-show collapsed'></a></span>  <ol id='menu-id-doc-4' class='menu menu-level1 collapse  '>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/general/' class='menu-link  '>General Functions</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/math/' class='menu-link  '>Math Functions</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/memory/' class='menu-link  '>Memory Functions</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/misc/' class='menu-link  '>Misc Functions</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/vector/' class='menu-link  '>Vector Functions</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/types/' class='menu-link  '>Types Functions</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/all/' class='menu-link  '>All Module</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/csv/' class='menu-link  '>Csv Module</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/currencies/' class='menu-link  '>Currencies Module</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/files/' class='menu-link  '>Files Module</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/standardunits/' class='menu-link  '>StandardUnits Module</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/strings/' class='menu-link  '>Strings Module</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/web/' class='menu-link  '>Web Module</a></span>    </li>
    <li class='menu-item '>
      <span class='menu-item-row'><a href='/doc/api/intel/' class='menu-link  '>Intel Hardware Intrinsics</a><a href='#menu-id-doc-18' role='button'  data-toggle='collapse' aria-expanded='false' aria-controls='menu-id-doc-18' class='menu-link-show collapsed'></a></span>    <ol id='menu-id-doc-18' class='menu menu-level2 collapse  '>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/aes/' class='menu-link  '>Intel Aes Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/avx/' class='menu-link  '>Intel Avx Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/avx2/' class='menu-link  '>Intel Avx2 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/bmi1/' class='menu-link  '>Intel Bmi1 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/bmi1x64/' class='menu-link  '>Intel Bmi1X64 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/bmi2/' class='menu-link  '>Intel Bmi2 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/bmi2x64/' class='menu-link  '>Intel Bmi2X64 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/sse/' class='menu-link  '>Intel Sse Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/ssex64/' class='menu-link  '>Intel SseX64 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/sse2/' class='menu-link  '>Intel Sse2 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/sse2x64/' class='menu-link  '>Intel Sse2X64 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/sse3/' class='menu-link  '>Intel Sse3 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/ssse3/' class='menu-link  '>Intel Ssse3 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/sse41/' class='menu-link  '>Intel Sse41 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/sse41x64/' class='menu-link  '>Intel Sse41X64 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/sse42/' class='menu-link  '>Intel Sse42 Intrinsics</a></span>      </li>
      <li class='menu-item '>
        <span class='menu-item-row'><a href='/doc/api/intel/sse42x64/' class='menu-link  '>Intel Sse42X64 Intrinsics</a></span>      </li>
    </ol>
    </li>
  </ol>
  </li>
  <li class='menu-item '>
    <span class='menu-item-row'><a href='/doc/advanced/' class='menu-link  '>Advanced Topics</a></span>  </li>
</ol>

      </div>
      <div class="col-sm-9 js-toc-content">
        <ol class='breadcrumb'>
  <li class='breadcrumb-item '>
    <a href='/' class='breadcrumb-link  '>Home</a>  </li>
  <li class='breadcrumb-item '>
    <a href='/doc/' class='breadcrumb-link  '>Documentation</a>  </li>
  <li class='breadcrumb-item '>
    <a href='/doc/user/' class='breadcrumb-link  '>User Guide</a>  </li>
  <li class='breadcrumb-item  active'>
    Language Syntax  </li>
</ol>

        <p id="lunet-results"></p>
        <h1>Language Syntax</h1>
        <h2 id="overview">Overview</h2>
<p>The language used by <code>kalk</code> is a <strong>full featured language</strong> with types, expressions, control flows, functions... with an easy and fluent syntax to work with.</p>
<p>In this document, you will find more details about its language features.</p>
<h2 id="types">Types</h2>
<p><code>kalk</code> supports different type of numbers and formats. All digits can be separated with the underscore <code>_</code> character.</p>
<h3 id="integers">Integers</h3>
<p>Integers: from a byte to large integers with any number of digits.</p>
<h4 id="simple-integers">Simple Integers</h4>
<p>From 8 bits to 64 bits integers:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 3
# 3
out = 3
&gt;&gt;&gt; 14_768
# 14768
out = 14768
&gt;&gt;&gt; display dev
# Display mode: dev (Developer)
&gt;&gt;&gt; 3
# 3
out = 3
    # int - 32-bit
    = 0x_0000_0003
    = 0x____0____0____0____0____0____0____0____3
    = 0b_0000_0000_0000_0000_0000_0000_0000_0011
</code></pre>
<p>By default, an integer will be represented by an <code>int</code> (32 bits) or a <code>long</code> (64 bits) if the value is exceeding the range of an <code>int</code>.</p>
<p>But size of integers can be enforced by using specific type constructors:</p>
<ul>
<li>8 bits: <code>byte</code>, <code>sbyte</code></li>
<li>16 bits: <code>ushort</code>, <code>short</code></li>
<li>32 bits: <code>uint</code>, <code>int</code></li>
<li>64 bits: <code>ulong</code>, <code>long</code></li>
</ul>
<pre><code class="language-kalk">&gt;&gt;&gt; display dev
# Display mode: dev (Developer)
&gt;&gt;&gt; int(5)
# int(5)
out = 5
    # int - 32-bit
    = 0x_0000_0005
    = 0x____0____0____0____0____0____0____0____5
    = 0b_0000_0000_0000_0000_0000_0000_0000_0101
&gt;&gt;&gt; long(5)
# long(5)
out = 5
    # long - 64-bit
    = 0x_00000000_00000005
    = 0x____0____0____0____0____0____0____0____0____0____0____0____0____0____0____0____5
    = 0b_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0101
</code></pre>
<p>You can convert a <code>string</code> to a specific integer value:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; int(&quot;5&quot;)
# int(&quot;5&quot;)
out = 5
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h4 id="big-integers">Big Integers</h4>
<p>With any number of digits:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 1e50
# 100000000000000000000000000000000000000000000000000
out = 100000000000000000000000000000000000000000000000000
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h4 id="hexadecimal-integers">Hexadecimal Integers</h4>
<p>Hexadecimal integers are prefixed by <code>0x</code> followed by hexadecimal characters <code>[0-9A-Fa-f]</code> with an optional postfix specifier for unsigned (<code>u</code> or <code>U</code>):</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 0xFC1234 # hexa
# 16519732 # hexa
out = 16519732
&gt;&gt;&gt; hex out
# hex(out)
out = &quot;34 12 FC 00&quot;
&gt;&gt;&gt; hex out
# hex(out)
out = 16519732  
&gt;&gt;&gt; 0x80000001
# -2147483647
out = -2147483647
&gt;&gt;&gt; 0x80000001u # force unsigned with `u` postfix
# 2147483649 # force unsigned with `u` postfix
out = 2147483649
&gt;&gt;&gt; 0xFF_AB_12_E3
# -5565725
out = -5565725  
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h4 id="binary-integers">Binary Integers</h4>
<p>Binary integers are prefixed by <code>0b</code> followed by binary characters <code>0</code> or <code>1</code> with an optional postfix specifier for unsigned (<code>u</code> or <code>U</code>):</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 0b11111010 # binary
# 250 # binary
out = 250
&gt;&gt;&gt; bin out
# bin(out)
out = &quot;11111010&quot;
&gt;&gt;&gt; bin out
# bin(out)
out = 250
&gt;&gt;&gt; 0b11110000_00000000_00000000_00000000
# -268435456
out = -268435456
&gt;&gt;&gt; 0b11110000_00000000_00000000_00000000u
# 4026531840
out = 4026531840    
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="floats">Floats</h3>
<p><code>kalk</code> supports 4 kinds of float/decimal numbers:</p>
<ul>
<li><code>half</code>: IEEE 754 16-bit half precision float</li>
<li><code>float</code>: IEEE 754 32-bit single precision float</li>
<li><code>double</code>: IEEE 754 64-bit double precision float</li>
<li><code>decimal</code>: 128-bit precision float</li>
</ul>
<h4 id="half">Half</h4>
<p>Half IEEE 754 16-bit half precision float (4 digits precision). Use the constructor <code>half</code> to enforce a <code>half</code>.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; half(1.5)
# half(1.5)
out = 1.5
&gt;&gt;&gt; half(2.3e-3f)
# half(0.0023f)
out = 0.0023
&gt;&gt;&gt; display dev
# Display mode: dev (Developer)
&gt;&gt;&gt; half(1.5)
# half(1.5)
out = 1.5
    # IEEE 754 - half float - 16-bit
    #
    = 0x_3E00
    = 0x____3____E____0____0
    #    seee eeff ffff ffff
    = 0b_0011_1110_0000_0000
    #   15       8         0
    #
    #  sign     exponent    |-- fraction -|
    =   1 * 2 ^ (15 - 15) * 0b1.1000000000f
</code></pre>
<h4 id="float">Float</h4>
<p>Float IEEE 754 32-bit single precision float (6-9 digits precision). Use the postfix <code>f</code> to enforce a <code>float</code>.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 1.5f
# 1.5f
out = 1.5
&gt;&gt;&gt; 2.3e-5f
# 2.3E-05f
out = 2.3E-05
&gt;&gt;&gt; display dev
# Display mode: dev (Developer)
&gt;&gt;&gt; 1.5f
# 1.5f
out = 1.5
    # IEEE 754 - float - 32-bit
    #
    = 0x_3FC0_0000
    = 0x____3____F____C____0____0____0____0____0
    #    seee eeee efff ffff ffff ffff ffff ffff
    = 0b_0011_1111_1100_0000_0000_0000_0000_0000
    #   31      24        16         8         0
    #
    #  sign   exponent            |------ fraction -----|
    =   1 * 2 ^ (127 - 127) * 0b1.10000000000000000000000f
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h4 id="double">Double</h4>
<p>Double IEEE 754 64-bit double precision float (15-17 digits precision). This is the default when using a floating point number.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 1.5
# 1.5
out = 1.5
&gt;&gt;&gt; 3.7e21
# 3.7E+21
out = 3.7E+21
&gt;&gt;&gt; display dev
# Display mode: dev (Developer)
&gt;&gt;&gt; 1.5
# 1.5
out = 1.5
    # IEEE 754 - double - 64-bit
    #
    = 0x_3FF80000_00000000
    = 0x____3____F____F____8____0____0____0____0____0____0____0____0____0____0____0____0
    #    seee eeee eeee ffff ffff ffff ffff ffff ffff ffff ffff ffff ffff ffff ffff ffff
    = 0b_0011_1111_1111_1000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000_0000
    #   63                48                  32                  16                   0
    #
    # sign    exponent              |-------------------- fraction --------------------|
    =   1 * 2 ^ (1023 - 1023) * 0b1.1000000000000000000000000000000000000000000000000000
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h4 id="decimal">Decimal</h4>
<p>Decimal 128-bit precision float (28-29 digits precision). Use the postfix <code>m</code> for enforcing a <code>decimal</code>.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 1.5m
# 1.5m
out = 1.5
&gt;&gt;&gt; 1.56781920303940591068762166827m
# 1.5678192030394059106876216683m
out = 1.5678192030394059106876216683
&gt;&gt;&gt; 1.56781920303940591068762166827m
# 1.5678192030394059106876216683m
out = 1.5678192030394059106876216683
    # Decimal 128-bit displayed as IEEE 754 - double - 64-bit
    #
    = 0x_3FF915C9_96B18541
    = 0x____3____F____F____9____1____5____C____9____9____6____B____1____8____5____4____1
    #    seee eeee eeee ffff ffff ffff ffff ffff ffff ffff ffff ffff ffff ffff ffff ffff
    = 0b_0011_1111_1111_1001_0001_0101_1100_1001_1001_0110_1011_0001_1000_0101_0100_0001
    #   63                48                  32                  16                   0
    #
    # sign    exponent              |-------------------- fraction --------------------|
    =   1 * 2 ^ (1023 - 1023) * 0b1.1001000101011100100110010110101100011000010101000001
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h4 id="binary-as-floats">Binary as floats</h4>
<p>By using the binary prefix <code>0b</code> associated with a dot <code>.</code> you can express a floating point number. The postfix <code>f</code> can be applied to enforce <code>float</code> precision.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 0b1.101f
# 1.625f
out = 1.625
    # IEEE 754 - float - 32-bit
    #
    = 0x_3FD0_0000
    = 0x____3____F____D____0____0____0____0____0
    #    seee eeee efff ffff ffff ffff ffff ffff
    = 0b_0011_1111_1101_0000_0000_0000_0000_0000
    #   31      24        16         8         0
    #
    #  sign   exponent            |------ fraction -----|
    =   1 * 2 ^ (127 - 127) * 0b1.10100000000000000000000f
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="boolean">Boolean</h3>
<p>A boolean value is <code>true</code> or <code>false</code>.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; true
# true
out = true
&gt;&gt;&gt; false
# false
out = false
&gt;&gt;&gt; bool(1)
# bool(1)
out = true
&gt;&gt;&gt; bool(0)
# bool(0)
out = false
&gt;&gt;&gt; bool(&quot;true&quot;)
# bool(&quot;true&quot;)
out = true
&gt;&gt;&gt; bool(&quot;false&quot;)
# bool(&quot;false&quot;)
out = false
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="vectors">Vectors</h3>
<p><code>kalk</code> supports multiple vector types:</p>
<pre><code class="language-kalk"># Type Vector Constructors
    - bool16, bool2, bool3, bool4, bool8, byte16, byte32, byte64, double2,
      double3, double4, double8, float16, float2, float3, float4, float8,
      half16, half2, half3, half32, half4, half8, int16, int2, int3, int4,
      int8, long2, long3, long4, long8, rgb, rgba, sbyte16, sbyte32, sbyte64,
      short16, short2, short32, short4, short8, uint16, uint2, uint3, uint4,
      uint8, ulong2, ulong3, ulong4, ulong8, ushort16, ushort2, ushort32,
      ushort4, ushort8, vector
</code></pre>
<p>They can be initialized with:</p>
<ul>
<li>A single value
<pre><code class="language-kalk">&gt;&gt;&gt; float4(0.5)
# float4(0.5)
out = float4(0.5, 0.5, 0.5, 0.5)
</code></pre>
</li>
<li>An array of values
<pre><code class="language-kalk">&gt;&gt;&gt; float4([1,3,5,7])
# float4([1,3,5,7])
out = float4(1, 3, 5, 7)
</code></pre>
</li>
<li>Direct values
<pre><code class="language-kalk">&gt;&gt;&gt; float4(1,3,5,7)
# float4(1, 3, 5, 7)
out = float4(1, 3, 5, 7)
</code></pre>
</li>
<li>Mixed vector values
<pre><code class="language-kalk">&gt;&gt;&gt; float4(1.xyz, 5)
# float4(1.xyz, 5)
out = float4(1, 1, 1, 5)  
</code></pre>
</li>
</ul>
<p>They support swizzles <code>xyzw</code> and <code>rgba</code> operator:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; float4(1..4)
# float4(1..4)
out = float4(1, 2, 3, 4)
&gt;&gt;&gt; out.xy
# out.xy
out = float2(1, 2)
</code></pre>
<p>Components can be array indexed as well:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; float4(5,6,7,8)
# float4(5, 6, 7, 8)
out = float4(5, 6, 7, 8)
&gt;&gt;&gt; out[1]
# out[1]
out = 6
</code></pre>
<p>Arbitrary vector size can also be created:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; vector(float, 11, [2..12] |&gt; cos)
# vector(float, 11, [2..12] |&gt; cos)
out = vector(float, 11, -0.41614684, -0.9899925, -0.6536436, 0.2836622, 0.96017027, 0.75390226, -0.14550003, -0.91113025, -0.8390715, 0.004425698, 0.84385395)
</code></pre>
<p>Many functions are able to be applied to vector types as a whole:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; cos(float4(1..4))
# cos(float4(1..4))
out = float4(0.5403023, -0.41614684, -0.9899925, -0.6536436)
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="matrices">Matrices</h3>
<p>Similar to vector, matrices can be created with a single value:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; float4x4(1)
# float4x4(1)
out = float4x4(1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1)
      # col  0           1           2           3           / row
      float4(1         , 1         , 1         , 1         ) # 0
      float4(1         , 1         , 1         , 1         ) # 1
      float4(1         , 1         , 1         , 1         ) # 2
      float4(1         , 1         , 1         , 1         ) # 3
</code></pre>
<p>They can also be created with an array:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; float3x3(1..9)
# float3x3(1..9)
out = float3x3(1, 2, 3, 4, 5, 6, 7, 8, 9)
      # col  0           1           2           / row
      float3(1         , 2         , 3         ) # 0
      float3(4         , 5         , 6         ) # 1
      float3(7         , 8         , 9         ) # 2
</code></pre>
<p>They can be created by combining them with vectors:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; float4x3(float3(1), float3(2), float3(3), float3(4))
# float4x3(float3(1), float3(2), float3(3), float3(4))
out = float4x3(1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4)
      # col  0           1           2           / row
      float3(1         , 1         , 1         ) # 0
      float3(2         , 2         , 2         ) # 1
      float3(3         , 3         , 3         ) # 2
      float3(4         , 4         , 4         ) # 3
</code></pre>
<p>You can access the row of a matrix</p>
<pre><code class="language-kalk">&gt;&gt;&gt; float3x3(1..9)
# float3x3(1..9)
out = float3x3(1, 2, 3, 4, 5, 6, 7, 8, 9)
      # col  0           1           2           / row
      float3(1         , 2         , 3         ) # 0
      float3(4         , 5         , 6         ) # 1
      float3(7         , 8         , 9         ) # 2
&gt;&gt;&gt; out[1]
# out[1]
out = float3(4, 5, 6)
</code></pre>
<p>Similar to vectors You can use functions to manipulate matrices:</p>
<pre><code class="language-kalk"># cos(float3x3(1..9))
out = float3x3(0.5403023, -0.41614684, -0.9899925, -0.6536436, 0.2836622, 0.96017027, 0.75390226, -0.14550003, -0.91113025)
      # col   0            1            2           / row
      float3( 0.5403023 , -0.41614684, -0.9899925 ) # 0
      float3(-0.6536436 ,  0.2836622 ,  0.96017027) # 1
      float3( 0.75390226, -0.14550003, -0.91113025) # 2
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="strings">Strings</h3>
<p>You can create strings:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; &quot;This is a string&quot;
# &quot;This is a string&quot;
out = &quot;This is a string&quot;
</code></pre>
<p>You can access a single character:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; &quot;abcd&quot;[1]
# &quot;abcd&quot;[1]
out = &quot;b&quot;
</code></pre>
<p>You can get the size of a string:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; &quot;abcd&quot;.size
# &quot;abcd&quot;.size
out = 4
</code></pre>
<p>Or by using the <code>size</code> function:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; &quot;abcd&quot; |&gt; size
# &quot;abcd&quot; |&gt; size
out = 4
</code></pre>
<p>You can convert a string to an ascii buffer:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; &quot;Hello World!&quot;
# &quot;Hello World!&quot;
out = &quot;Hello World!&quot;
&gt;&gt;&gt; ascii out
# ascii(out)
out = bytebuffer([72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100, 33])
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="arrays">Arrays</h3>
<p>You can create arrays by specifying its values:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; [1, 3, 5, 7]
# [1, 3, 5, 7]
out = [1, 3, 5, 7]
</code></pre>
<p>You can access an element of the array:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; arr = [1, 3, 5, 7]
# arr = [1, 3, 5, 7]
arr = [1, 3, 5, 7]
&gt;&gt;&gt; arr[2]
# arr[2]
out = 5
</code></pre>
<p>You can get the size of an array:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; [1, 3, 5, 7].size
# [1, 3, 5, 7].size
out = 4
</code></pre>
<p>Or by using the <code>size</code> function:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; [1, 3, 5, 7] |&gt; size
# [1, 3, 5, 7] |&gt; size
out = 4
</code></pre>
<p>Some functions can be applied on each element of the array:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; [1, 3, 5, 7, 10, 11] |&gt; fib
# [1, 3, 5, 7, 10, 11] |&gt; fib
out = [1, 2, 5, 13, 55, 89]
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="ranges">Ranges</h3>
<p>You can create an enumerator of values based on an inclusive range <code>from..to</code></p>
<pre><code class="language-kalk">&gt;&gt;&gt; 1..10
# 1..10
out = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</code></pre>
<p>An exclusive range is defined by <code>from..&lt;to</code></p>
<pre><code class="language-kalk">&gt;&gt;&gt; 1..&lt;10
# 1..&lt;10
out = [1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre>
<p>A range can be created from variable or function results:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; x = 1
# x = 1
x = 1
&gt;&gt;&gt; y = 6
# y = 6
y = 6
&gt;&gt;&gt; x..y
# x..y
out = [1, 2, 3, 4, 5, 6]
</code></pre>
<p>Ranges share similar behavior to arrays (size, indexing...).</p>
<p><a href="#overview">游무 top</a></p>
<h3 id="objects">Objects</h3>
<p>Objects with properties can be created:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; {a: 1, b: 2, c: &quot;yes&quot;, d: float4(1)}
# {a: 1, b: 2, c: &quot;yes&quot;, d: float4(1)}
out = {a: 1, b: 2, c: &quot;yes&quot;, d: float4(1, 1, 1, 1)}
</code></pre>
<p>Properties can be accessed by name or by dynamic indexer:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; obj = {a: 1, b: 2, c: &quot;yes&quot;, d: float4(1)}
# obj = {a: 1, b: 2, c: &quot;yes&quot;, d: float4(1)}
obj = {a: 1, b: 2, c: &quot;yes&quot;, d: float4(1, 1, 1, 1)}
&gt;&gt;&gt; obj.b
# obj.b
out = 2
&gt;&gt;&gt; obj.c
# obj.c
out = &quot;yes&quot;
&gt;&gt;&gt; obj[&quot;d&quot;]
# obj[&quot;d&quot;]
out = float4(1, 1, 1, 1)
</code></pre>
<p>You can extract keys and values from an object:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; obj = {a: 1, b: 2, c: &quot;yes&quot;, d: float4(1)}
# obj = {a: 1, b: 2, c: &quot;yes&quot;, d: float4(1)}
obj = {a: 1, b: 2, c: &quot;yes&quot;, d: float4(1, 1, 1, 1)}
&gt;&gt;&gt; obj |&gt; keys
# obj |&gt; keys
out = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]
&gt;&gt;&gt; obj |&gt; values
# obj |&gt; values
out = [1, 2, &quot;yes&quot;, float4(1, 1, 1, 1)]
</code></pre>
<p>You can convert an object to a json string back and forth:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; import Web
# 8 functions successfully imported from module `Web`.
&gt;&gt;&gt; {a: 1, b: &quot;yes&quot;} |&gt; json
# {a: 1, b: &quot;yes&quot;} |&gt; json
out = &quot;{\&quot;a\&quot;: 1, \&quot;b\&quot;: \&quot;yes\&quot;}&quot;
&gt;&gt;&gt; json out
# json(out)
out = {a: 1, b: &quot;yes&quot;}
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="bytebuffers">ByteBuffers</h3>
<p>Byte buffers are a special kind of array that can be used with CPU intrinsics and other memory functions:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; buf = bytebuffer(1..10)
# buf = bytebuffer(1..10)
buf = bytebuffer([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
&gt;&gt;&gt; buf[0] = 255
&gt;&gt;&gt; buf
# buf
out = bytebuffer([255, 2, 3, 4, 5, 6, 7, 8, 9, 10])
</code></pre>
<p>A bytebuffer can be allocated:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; malloc(16)
# malloc(16)
out = bytebuffer([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])
</code></pre>
<p>You can take a slice/view of a buffer, while it manipulates the original content:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; buf = bytebuffer(1..10)
# buf = bytebuffer(1..10)
buf = bytebuffer([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
&gt;&gt;&gt; buf1 = slice(buf, 1, 5)
# buf1 = slice(buf, 1, 5)
buf1 = slice(bytebuffer([2, 3, 4, 5, 6]), 1, 5)
&gt;&gt;&gt; buf1[0] = 255
&gt;&gt;&gt; buf
# buf
out = bytebuffer([1, 2, 255, 4, 5, 6, 7, 8, 9, 10])
</code></pre>
<p>All types (except objects), can be converted to a bytebuffer representation via <code>asbytes</code>:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; float4(1..4) |&gt; asbytes
# float4(1..4) |&gt; asbytes
out = bytebuffer([0, 0, 128, 63, 0, 0, 0, 64, 0, 0, 64, 64, 0, 0, 128, 64])
</code></pre>
<p>A bytebuffer acts as a pointer for + operator with an integer:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; bytebuffer(1..10)
# bytebuffer(1..10)
out = bytebuffer([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
&gt;&gt;&gt; out + 4
# out + 4
out = slice(bytebuffer([5, 6, 7, 8, 9, 10]), 4)
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h2 id="expressions">Expressions</h2>
<h3 id="nested">Nested</h3>
<p>An expression enclosed by <code>(</code> and <code>)</code></p>
<pre><code class="language-kalk">&gt;&gt;&gt; (2 - 5 * (1 + 3)) / 3
# (2 - 5 * (1 + 3)) / 3
out = -6
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="with-numbers">With Numbers</h3>
<p>The following binary operators are supported for <strong>numbers</strong>:</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;left&gt; + &lt;right&gt;</code></td>
<td>add left to right number</td>
</tr>
<tr>
<td><code>&lt;left&gt; - &lt;right&gt;</code></td>
<td>substract right number from left</td>
</tr>
<tr>
<td><code>&lt;left&gt; * &lt;right&gt;</code></td>
<td>multiply left by right number</td>
</tr>
<tr>
<td><code>&lt;left&gt; / &lt;right&gt;</code></td>
<td>divide left by right number</td>
</tr>
<tr>
<td><code>&lt;left&gt; // &lt;right&gt;</code></td>
<td>divide left by right number and round to an integer</td>
</tr>
<tr>
<td><code>&lt;left&gt; % &lt;right&gt;</code></td>
<td>calculates the modulus of left by right</td>
</tr>
<tr>
<td><code>&lt;left&gt; ^ &lt;right&gt;</code></td>
<td>calculates the exponent of left by right</td>
</tr>
</tbody>
</table>
<p>If left or right is a float and the other is an integer, the result of the operation will be a float.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 1 + 2
# 1 + 2
out = 3
&gt;&gt;&gt; 3 - 1
# 3 - 1
out = 2
&gt;&gt;&gt; 3 * 4
# 3 * 4
out = 12
&gt;&gt;&gt; 5 / 2
# 5 / 2
out = 2.5
&gt;&gt;&gt; 5 // 2
# 5 // 2
out = 2
&gt;&gt;&gt; 5 % 2
# 5 % 2
out = 1
&gt;&gt;&gt; 4 ^ 3
# 4 ^ 3
out = 64
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="with-strings">With Strings</h3>
<p>The following binary operators are supported for <strong>strings</strong>:</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>'left' + &lt;right&gt;</code></td>
<td>concatenates left to right string: <code>&quot;ab&quot; + &quot;c&quot; -&gt; &quot;abc&quot;</code></td>
</tr>
<tr>
<td><code>'left' * &lt;right&gt;</code></td>
<td>concatenates the left string <code>right</code> times: <code>'a' * 5  -&gt; aaaaa</code>. left and right and be swapped as long as there is one string and one number.</td>
</tr>
</tbody>
</table>
<p>As long as there is a string in a binary operation, the other part will be automatically converted to a string.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; &quot;abc&quot; * 2
# &quot;abc&quot; * 2
out = &quot;abcabc&quot;
</code></pre>
<p>The following literals are converted to plain strings:</p>
<ul>
<li><code>null -&gt; &quot;&quot;</code>. e.g: <code>&quot;aaaa&quot; + null -&gt; &quot;aaaa&quot;</code></li>
<li><code>0 -&gt; &quot;0&quot;</code></li>
<li><code>1.0 -&gt; &quot;1.0&quot;</code></li>
<li><code>true -&gt; &quot;true&quot;</code></li>
<li><code>false -&gt; &quot;false&quot;</code></li>
</ul>
<p><a href="#overview">游무 top</a></p>
<h3 id="with-arrays">With Arrays</h3>
<p>The following binary operators are supported for <strong>arrays</strong>:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; [1, 2, 3] + [4, 5, 6]
# [1, 2, 3] + [4, 5, 6]
out = [1, 2, 3, 4, 5, 6]
</code></pre>
<p>Join array values with <code>|</code>:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; [1, 2, 3] | [1, 2, 4]
# [1, 2, 3] | [1, 2, 4]
out = [1, 2, 3, 4]
</code></pre>
<p>Select values from both left and right <code>&amp;</code>:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; [1, 2, 3] &amp; [1, 2, 4]
# [1, 2, 3] &amp; [1, 2, 4]
out = [1, 2]
</code></pre>
<p>Multiply arrays with <code>*</code>:</p>
<pre><code class="language-kalk">&gt;&gt;&gt; [1,3,5] * 3
# [1,3,5] * 3
out = [1, 3, 5, 1, 3, 5, 1, 3, 5]
</code></pre>
<h3 id="conditional">Conditional</h3>
<p>A boolean expression produces a boolean by comparing a left and right value.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;left&gt; == &lt;right&gt;</code></td>
<td>Is left equal to right?</td>
</tr>
<tr>
<td><code>&lt;left&gt; != &lt;right&gt;</code></td>
<td>Is left not equal to right?</td>
</tr>
<tr>
<td><code>&lt;left&gt; &gt; &lt;right&gt;</code></td>
<td>Is left greater than right?</td>
</tr>
<tr>
<td><code>&lt;left&gt; &gt;= &lt;right&gt;</code></td>
<td>Is left greater or equal to right?</td>
</tr>
<tr>
<td><code>&lt;left&gt; &lt; &lt;right&gt;</code></td>
<td>Is left less than right?</td>
</tr>
<tr>
<td><code>&lt;left&gt; &lt;= &lt;right&gt;</code></td>
<td>Is left less or equal to right?</td>
</tr>
</tbody>
</table>
<p>They work with both <code>numbers</code>, <code>strings</code> and datetimes.</p>
<p>You can combine conditional expressions with <code>&amp;&amp;</code> (and operator) and <code>||</code> (or operator).
Unlike in <code>javascript</code> it always returns <code>boolean</code> and never <code>&lt;left&gt;</code> or <code>&lt;right&gt;</code>.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>&lt;left&gt; &amp;&amp; &lt;right&gt;</code></td>
<td>Is left true and right true?</td>
</tr>
<tr>
<td><code>&lt;left&gt; || &lt;right&gt;</code></td>
<td>Is left true or right true?</td>
</tr>
</tbody>
</table>
<p>The conditional expression <code>cond ? left : right</code> allow to return <code>left</code> if <code>cond</code> is <code>true</code> otherwise <code>right</code>.</p>
<p>The operators work with all types except objects (e.g basic, vector, matrices, arrays):</p>
<pre><code class="language-kalk">&gt;&gt;&gt; 1 == 2
# 1 == 2
out = false
&gt;&gt;&gt; float4(1,2,3,4) == float4(1,0,3,0)
# float4(1, 2, 3, 4) == float4(1, 0, 3, 0)
out = bool4(true, false, true, false)
&gt;&gt;&gt; [1, 2, 3] == [1, 0, 3]
# [1, 2, 3] == [1, 0, 3]
out = false
&gt;&gt;&gt; [1, 2, 3] == [1, 2, 3]
# [1, 2, 3] == [1, 2, 3]
out = true
</code></pre>
<p>The operator <code>left ?? right</code> can be used to return the <code>right</code> value if <code>left</code> is null.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; a = null
# a = null
a = null
&gt;&gt;&gt; b = &quot;yes&quot;
# b = &quot;yes&quot;
b = &quot;yes&quot;
&gt;&gt;&gt; a ?? b
# a ?? b
out = &quot;yes&quot;
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h2 id="control-flows">Control Flows</h2>
<h3 id="multiple-statements">Multiple statements</h3>
<p><code>kalk</code> supports multiple statements on the same line separated by <code>;</code></p>
<pre><code class="language-kalk">&gt;&gt;&gt; x = 1; y = 2; x + y
# x = 1; y = 2; x + y
x = 1
y = 2
out = 3
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="if-statements">If statements</h3>
<p>Supports for if, else, and else if statements:</p>
<blockquote>
<p><code>if &lt;condition&gt;; &lt;statements&gt;; else; &lt;statements&gt;; end;</code></p>
</blockquote>
<pre><code class="language-kalk">&gt;&gt;&gt; x = 1; if x &lt; 1; y = 2; else; y = 3; end; x + y
# x = 1; if x &lt; 1; y = 2; else; y = 3; end; x + y
x = 1
y = 3
out = 4
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="loop-statements">Loop statements</h3>
<p>Supports for the following <code>for</code> loop syntax:</p>
<blockquote>
<p><code>for &lt;condition&gt; in &lt;expression&gt;; &lt;statements&gt;; end;</code></p>
</blockquote>
<pre><code class="language-kalk">&gt;&gt;&gt; for x in 1..10; y = x; end
# for x in 1..10; y = x; end
y = 1
y = 2
y = 3
y = 4
y = 5
y = 6
y = 7
y = 8
y = 9
y = 10
</code></pre>
<p>Supports for <code>while</code> loop syntax:</p>
<blockquote>
<p><code>while &lt;condition&gt;; &lt;statements&gt;; end;</code></p>
</blockquote>
<pre><code class="language-kalk">&gt;&gt;&gt; x = 10; while x &gt; 0; x = x - 1; end
# x = 10; while x &gt; 0; x = x - 1; end
x = 10
x = 9
x = 8
x = 7
x = 6
x = 5
x = 4
x = 3
x = 2
x = 1
x = 0
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h4 id="special-loop-variables">Special loop variables</h4>
<p>The following variables are accessible within a <code>for</code> block:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>for.index</code></td>
<td>The current <code>index</code> of the for loop</td>
</tr>
<tr>
<td><code>for.rindex</code></td>
<td>The current <code>index</code> of the for loop starting from the end of the list</td>
</tr>
<tr>
<td><code>for.first</code></td>
<td>A boolean indicating whether this is the first step in the loop</td>
</tr>
<tr>
<td><code>for.last</code></td>
<td>A boolean indicating whether this is the last step in the loop</td>
</tr>
<tr>
<td><code>for.even</code></td>
<td>A boolean indicating whether this is an even row in the loop</td>
</tr>
<tr>
<td><code>for.odd</code></td>
<td>A boolean indicating whether this is an odd row in the loop</td>
</tr>
<tr>
<td><code>for.changed</code></td>
<td>A boolean indicating whether a current value of this iteration changed from previous step</td>
</tr>
</tbody>
</table>
<pre><code class="language-kalk">&gt;&gt;&gt; for x in 1..10; print(for.index + &quot; first: &quot; + for.first + &quot; last: &quot; + for.last); end;
0 first: true last: false
1 first: false last: false
2 first: false last: false
3 first: false last: false
4 first: false last: false
5 first: false last: false
6 first: false last: false
7 first: false last: false
8 first: false last: false
9 first: false last: true
</code></pre>
<p>Within a <code>while</code> statement, the following variables can be used:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>while.index</code></td>
<td>The current <code>index</code> of the while loop</td>
</tr>
<tr>
<td><code>while.first</code></td>
<td>A boolean indicating whether this is the first step in the loop</td>
</tr>
<tr>
<td><code>while.even</code></td>
<td>A boolean indicating whether this is an even row in the loop</td>
</tr>
<tr>
<td><code>while.odd</code></td>
<td>A boolean indicating whether this is an odd row in the loop</td>
</tr>
</tbody>
</table>
<p><a href="#overview">游무 top</a></p>
<h4 id="break-and-continue"><code>break</code> and <code>continue</code></h4>
<p>You can use <code>break</code> and <code>continue</code> within loops as in standard languages.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; for x in 1..10; if x &gt; 5; break; end; x * 2; end
# for x in 1..10; if x &gt; 5; break; end; x * 2; end
out = 2
out = 4
out = 6
out = 8
out = 10
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h2 id="functions">Functions</h2>
<h3 id="inline-functions">Inline functions</h3>
<p>A simple inline function can be declared with:</p>
<blockquote>
<p><code>&lt;function_name&gt;(argName1, argName2, ...argNameN) = &lt;expression&gt;</code></p>
</blockquote>
<pre><code class="language-kalk">&gt;&gt;&gt; f(x, y, z) = x + 2y + 3z
# f(x, y, z) = x + 2 * y + 3 * z
f(x, y, z) = x + 2 y + 3 z
&gt;&gt;&gt; f(1,2,3)
# f(1, 2, 3)
out = 14
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="multiline-functions">Multiline functions</h3>
<blockquote>
<p><code> func &lt;function_name&gt;(argName1, argName2, ...argNameN); &lt;statements&gt;; end;</code></p>
</blockquote>
<pre><code class="language-kalk">&gt;&gt;&gt; func f(x,y); for v in x..y; 2v; end; end
# func f(x,y); for v in x..y; 2 * v; end; end
func f(x,y); for v in x .. y; 2 v; end; end
&gt;&gt;&gt; f(1,10)
# f(1, 10)
out = 2
out = 4
out = 6
out = 8
out = 10
out = 12
out = 14
out = 16
out = 18
out = 20
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="anonymous-functions">Anonymous functions</h3>
<p>Anonymous functions are like simple functions but can be used in expressions (e.g as the last argument of function call)</p>
<pre><code class="language-kalk">&gt;&gt;&gt; f = do (x,y); ret x + y; end;
# f = do(x,y); ret x + y; end;
f = do(x,y); ret x + y; end;
&gt;&gt;&gt; f(1,2)
# f(1, 2)
out = 3
</code></pre>
<p><a href="#overview">游무 top</a></p>
<h3 id="function-pointers">Function Pointers</h3>
<p>A function can be passed to another function by using the operator <code>@</code> in front of the function to stop the evaluation and allow to pass the function as a &quot;pointer&quot;.</p>
<pre><code class="language-kalk">&gt;&gt;&gt; f(x) = x + 1
# f(x) = x + 1
f(x) = x + 1
&gt;&gt;&gt; g(y, z) = y(z)
# g(y, z) = y(z)
g(y, z) = y(z)
&gt;&gt;&gt; g(@f, 5)
# g(@f, 5)
out = 6
</code></pre>
<p><a href="#overview">游무 top</a></p>

      </div>
  </div>
</div>
        </section>
        <footer>
          <hr>
          <p>Copyright &copy; 2020, Alexandre Mutel aka <a href="https://xoofx.com">xoofx</a> - Blog content licensed under the Creative Commons <a href="http://creativecommons.org/licenses/by/2.5/">CC BY 2.5</a> | Site generated by <a href="https://github.com/lunet-io/lunet">lunet</a> hosted on <a href="https://pages.github.com/">GitHub Pages</a></p>
        </footer>
      </div>
    </div>
  </body>
</html>

